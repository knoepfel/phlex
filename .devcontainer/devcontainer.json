{
    "name": "Phlex CI Dev Container",
    "build": {
        "dockerfile": "Dockerfile",
        "options": [
            "--format=docker"
        ]
    },
    "workspaceFolder": "/workspaces/phlex",
    "remoteUser": "vscode",
    "containerEnv": {
        "GH_CONFIG_DIR": "/home/vscode/.config/gh"
    },
    "mounts": [
        "source=${env:HOME}/.config/gh,target=/home/vscode/.config/gh,type=bind,readonly"
    ],
    "onCreateCommand": "bash .devcontainer/setup-repos.sh /workspaces",
    "customizations": {
        "vscode": {
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "terminal.integrated.profiles.linux": {
                    "bash": {
                        "path": "/bin/bash",
                        "args": [
                            "-i"
                        ],
                        "icon": "terminal-bash"
                    }
                },
                "terminal.integrated.shellIntegration.suggestEnablement": false,
                "python.defaultInterpreterPath": "/opt/spack-environments/phlex-ci/.spack-env/view/bin/python",
                "python.analysis.extraPaths": [
                    "${workspaceFolder}/build",
                    "/opt/spack-environments/phlex-ci/.spack-env/view/lib/root",
                    "/opt/spack-environments/phlex-ci/.spack-env/view/lib/python/site-packages"
                ],
                "cmake.cmakePath": "${workspaceFolder}/.devcontainer/cmake_wrapper.sh",
                "cmake.ctestPath": "${workspaceFolder}/.devcontainer/ctest_wrapper.sh",
                "cmake.generator": "Ninja",
                "C_Cpp.default.cStandard": "c17",
                "C_Cpp.default.cppStandard": "c++23",
                "C_Cpp.default.intelliSenseMode": "linux-gcc-x64",
                "C_Cpp.default.compileCommands": "${workspaceFolder}/build/compile_commands.json",
                "python.languageServer": "Pylance",
                "python.analysis.typeCheckingMode": "basic",
                "python.analysis.diagnosticMode": "workspace"
            },
            "extensions": [
                "charliermarsh.ruff",
                "cheshirekow.cmake-format",
                "chrisjsewell.myst-tml-syntax",

                "davidanson.vscode-markdownlint",
                "donjayamanne.githistory",
                "dotjoshjohnson.xml",
                "eamodio.gitlens",
                "github.copilot-chat",
                "github.vscode-github-actions",
                "github.vscode-pull-request-github",
                "jebbs.plantuml",
                "lextudio.iis",
                "lextudio.restructuredtext",
                "lextudio.restructuredtext-pack",
                "lfs.vscode-emacs-friendly",
                "links-req-tracer.links-requirement-tracer",

                "ms-python.debugpy",
                "ms-python.mypy-type-checker",
                "ms-python.pylint",

                "ms-python.vscode-pylance",
                "ms-python.vscode-python-envs",
                "ms-vscode.cmake-tools",
                "ms-vscode.cpptools",
                "ms-vscode.cpptools-extension-pack",
                "ms-vscode.cpptools-themes",
                "ms-vscode.hexeditor",
                "ms-vscode.live-server",
                "ms-vscode.makefile-tools",
                "ms-vscode.vscode-websearchforcopilot",
                "redhat.vscode-yaml",

                "shd101wyy.markdown-preview-enhanced",
                "swyddfa.esbonio",
                "trond-snekvik.simple-rst",
                "twxs.cmake",
                "vadimcn.vscode-lldb",
                "wequick.coverage-gutters",
                "xaver.clang-format"
            ]
        }
    }
}
